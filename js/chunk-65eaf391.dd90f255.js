(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65eaf391","chunk-2d0aba8a"],{"15e5":function(e,r,o){"use strict";o.r(r),o.d(r,"getAllEmployeeInformation",(function(){return l})),o.d(r,"editEmployeeInformation",(function(){return n}));var t=o("9bd2");function l(){return Object(t["a"])({url:"/Employee/getAllEmployeeInfo",method:"post"})}function n(e){return Object(t["a"])({url:"/Employee/editEmployeeInfo",method:"post",data:e})}},ce9c:function(e,r,o){"use strict";o.r(r);var t=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("d2-container",[o("template",{slot:"header"},[e._v("查询管理职员信息")]),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.EmployeeInformation,border:""}},[o("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),o("el-table-column",{attrs:{prop:"gender",label:"性别",width:"180"},scopedSlots:e._u([{key:"default",fn:function(r){return[1==r.row.gender?o("span",[e._v("男")]):o("span",[e._v("女")])]}}])}),o("el-table-column",{attrs:{prop:"work",label:"职位",width:"180"}}),o("el-table-column",{attrs:{prop:"mobliephone",label:"移动手机",width:"180"}}),o("el-table-column",{attrs:{prop:"employeecardid",label:"职员卡卡号",width:"180"}}),o("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"200"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[o("el-button",{attrs:{type:"primary"},on:{click:function(o){return e.editEmployeeInfo(r)}}},[e._v("修改")])]}}])})],1),o("el-dialog",{attrs:{title:"修改职员信息",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(r){e.dialogVisible=r}}},[o("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"180px"}},[o("el-form-item",{attrs:{label:"职员名称",prop:"name"}},[o("el-input",{staticStyle:{width:"200px"},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"职工性别",prop:"gender"}},[o("el-radio-group",{model:{value:e.form.gender,callback:function(r){e.$set(e.form,"gender",r)},expression:"form.gender"}},[o("el-radio",{attrs:{label:1}},[e._v("男")]),o("el-radio",{attrs:{label:0}},[e._v("女")])],1)],1),o("el-form-item",{attrs:{label:"职工联系方式",prop:"mobilePhone"}},[o("el-input",{staticStyle:{width:"200px"},model:{value:e.form.mobilePhone,callback:function(r){e.$set(e.form,"mobilePhone",r)},expression:"form.mobilePhone"}})],1),o("el-form-item",{attrs:{label:"职工地址",prop:"address"}},[o("el-input",{staticStyle:{width:"200px"},model:{value:e.form.address,callback:function(r){e.$set(e.form,"address",r)},expression:"form.address"}})],1),o("el-form-item",{attrs:{label:"职工紧急联系人",prop:"emergencyContact"}},[o("el-input",{staticStyle:{width:"200px"},model:{value:e.form.emergencyContact,callback:function(r){e.$set(e.form,"emergencyContact",r)},expression:"form.emergencyContact"}})],1),o("el-form-item",{attrs:{label:"职工紧急联系人联系方式",prop:"emergencyContactMobilePhone"}},[o("el-input",{staticStyle:{width:"200px"},model:{value:e.form.emergencyContactMobilePhone,callback:function(r){e.$set(e.form,"emergencyContactMobilePhone",r)},expression:"form.emergencyContactMobilePhone"}})],1),o("el-form-item",{attrs:{label:"职工邮箱",prop:"Email"}},[o("el-input",{staticStyle:{width:"200px"},model:{value:e.form.Email,callback:function(r){e.$set(e.form,"Email",r)},expression:"form.Email"}})],1),o("el-form-item",{attrs:{label:"职工职位",prop:"work"}},[o("el-input",{staticStyle:{width:"200px"},model:{value:e.form.work,callback:function(r){e.$set(e.form,"work",r)},expression:"form.work"}})],1),o("el-form-item",[o("footer"),o("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("form")}}},[e._v("立即修改")]),o("el-button",{on:{click:function(r){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],2)},l=[],n=(o("b0c0"),o("15e5")),a={data:function(){return{EmployeeInformation:"",dialogVisible:!1,form:{name:"",gender:0,mobilePhone:"",employeeCardId:"",address:"",emergencyContact:"",emergencyContactMobilePhone:"",Email:"",role:1,work:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"blur"}],mobilePhone:[{required:!0,message:"请输入联系方式",trigger:"blur"},{min:8,max:11,message:"输入电话格式不正确",trigger:"blur"}],employeeCardId:[{required:!0,message:"请输入职工卡卡号",trigger:"blur"},{min:10,max:10,message:"输入职工卡卡号格式不正确",trigger:"blur"}],address:[{required:!0,message:"请输入住房地址",trigger:"blur"}],emergencyContact:[{required:!0,message:"请输入紧急联系人姓名",trigger:"blur"}],emergencyContactMobilePhone:[{required:!0,message:"请输入紧急人联系方式",trigger:"blur"},{min:8,max:11,message:"输入电话格式不正确",trigger:"blur"}],Email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],work:[{required:!0,message:"请输入职工职位",trigger:"blur"}]}}},mounted:function(){this.createPage()},methods:{createPage:function(){var e=this;Object(n["getAllEmployeeInformation"])({}).then((function(r){e.EmployeeInformation=r}))},editEmployeeInfo:function(e){console.log(e.row),this.dialogVisible=!0,this.form.name=e.row.name,this.form.gender=e.row.gender,this.form.mobilePhone=e.row.mobliephone,this.form.employeeCardId=e.row.employeecardid,this.form.emergencyContact=e.row.emergencycontact,this.form.emergencyContactMobilePhone=e.row.emergencycontactmobilephone,this.form.Email=e.row.email,this.form.domitory=e.row.domitory,this.form.work=e.row.work,this.form.address=e.row.address},submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!"),Object(n["editEmployeeInformation"])({name:r.form.name,gender:r.form.gender,address:r.form.address,mobilephone:r.form.mobilePhone,employeeCardId:r.form.employeeCardId,emergencyContact:r.form.emergencyContact,emergencyContactMobilePhone:r.form.emergencyContactMobilePhone,email:r.form.Email,role:r.form.role,work:r.form.work}).then((function(e){e.data;r.createPage(),r.dialogVisible=!1}))}))}}},i=a,m=o("2877"),s=function(e){e.options.__source="src/views/function/query/employeeinformation/index.vue"},c=s,d=Object(m["a"])(i,t,l,!1,null,null,null);"function"===typeof c&&c(d);r["default"]=d.exports}}]);