(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3be4d95e","chunk-2d0ba6ee"],{2676:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("d2-container",[t("template",{slot:"header"},[e._v("门禁设备信息信息")]),t("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.EntranceGuardinfomation}},[t("el-table-column",{attrs:{prop:"entranceGuardNumber",label:"门禁设备编号"}}),t("el-table-column",{attrs:{prop:"entranceGuardAddress",label:"门禁设备位置"}}),t("el-table-column",{attrs:{prop:"entranceGuardResponse",label:"门禁设备负责人"}}),t("el-table-column",{attrs:{prop:"entranceGuardStatus",label:"门禁设备状态"}}),t("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.detail(r.row)}}},[e._v("查看权限详情")]),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.addPeople(r.row)}}},[e._v("添加权限")])]}}])})],1),t("el-dialog",{attrs:{title:"查看权限详情",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(r){e.dialogVisible=r}}},[t("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.EntranceGuardUserInfomation}},[t("el-table-column",{attrs:{prop:"entranceGuardNumber",label:"门禁设备编号"}}),t("el-table-column",{attrs:{prop:"userCardid",label:"用户卡号"}}),t("el-table-column",{attrs:{prop:"userName",label:"用户姓名"}}),t("el-table-column",{attrs:{prop:"userRole",label:"用户角色"}}),t("el-table-column",{attrs:{prop:"userMobile",label:"用户联系方式"}}),t("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(t){return e.deleteUser(r.row)}}},[e._v("删除")])]}}])})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"添加权限",visible:e.dialogVisible1,width:"30%"},on:{"update:visible":function(r){e.dialogVisible1=r}}},[t("el-form",{ref:"addPeopleInfo",staticClass:"demo-dynamic",attrs:{model:e.addPeopleInfo,"label-width":"120px"}},[t("el-form-item",{attrs:{prop:"entranceGuardNumber",label:"门禁设备编号",rules:[{required:!0,message:"请输入门禁设备编号",trigger:"blur"}]}},[t("el-input",{model:{value:e.addPeopleInfo.entranceGuardNumber,callback:function(r){e.$set(e.addPeopleInfo,"entranceGuardNumber",r)},expression:"addPeopleInfo.entranceGuardNumber"}})],1),t("el-form-item",{attrs:{prop:"userCardId",label:"用户卡号",rules:[{required:!0,message:"请输入用户卡号",trigger:"blur"}]}},[t("el-input",{model:{value:e.addPeopleInfo.userCardId,callback:function(r){e.$set(e.addPeopleInfo,"userCardId",r)},expression:"addPeopleInfo.userCardId"}})],1),t("el-form-item",{attrs:{prop:"userName",label:"用户姓名",rules:[{required:!0,message:"请输入学生姓名",trigger:"blur"}]}},[t("el-input",{model:{value:e.addPeopleInfo.userName,callback:function(r){e.$set(e.addPeopleInfo,"userName",r)},expression:"addPeopleInfo.userName"}})],1),t("el-form-item",{attrs:{prop:"userMobile",label:"用户联系方式",rules:[{required:!0,message:"请输入用户联系方式",trigger:"blur"}]}},[t("el-input",{model:{value:e.addPeopleInfo.userMobile,callback:function(r){e.$set(e.addPeopleInfo,"userMobile",r)},expression:"addPeopleInfo.userMobile"}})],1),t("el-form-item",{attrs:{prop:"userRole",label:"用户联系方式",rules:[{required:!0,message:"请选择用户角色",trigger:"blur"}]}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addPeopleInfo.userRole,callback:function(r){e.$set(e.addPeopleInfo,"userRole",r)},expression:"addPeopleInfo.userRole"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("addPeopleInfo")}}},[e._v("提交")]),t("el-button",{on:{click:function(r){return e.resetForm("addPeopleInfo")}}},[e._v("重置")])],1)],1)],1)],2)},n=[],l=t("36d9"),o={data:function(){return{EntranceGuardinfomation:[],dialogVisible:!1,EntranceGuardUserInfomation:[],dialogVisible1:!1,addPeopleInfo:{entranceGuardNumber:"",userCardId:"",userName:"",userMobile:"",userRole:""},options:[{value:"学生",label:"学生"},{value:"教师",label:"教师"},{value:"职工",label:"职工"}]}},mounted:function(){this.createPage()},methods:{createPage:function(){var e=this;Object(l["getAllEntranceGuardInfo"])({}).then((function(r){e.EntranceGuardinfomation=r}))},detail:function(e){var r=this;Object(l["getAllEntranceGuardUserInfo"])({entranceGuardNumber:e.entranceGuardNumber}).then((function(e){r.EntranceGuardUserInfomation=e,r.dialogVisible=!0}))},addPeople:function(e){this.dialogVisible1=!0},resetForm:function(e){this.$refs[e].resetFields()},submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!"),Object(l["addEntranceGuardUser"])({entranceGuardNumber:r.addPeopleInfo.entranceGuardNumber,userCardId:r.addPeopleInfo.userCardId,userName:r.addPeopleInfo.userName,userRole:r.addPeopleInfo.userRole,userMobile:r.addPeopleInfo.userMobile}),r.resetForm("addPeopleInfo"),r.dialogVisible1=!1}))},deleteUser:function(e){var r=this;Object(l["deleteEntranceGuardUser"])({userCardId:e.userCardid,entranceGuardNumber:e.entranceGuardNumber}).then((function(t){r.dialogVisible=!1,r.detail(e)}))}}},u=o,d=t("2877"),i=function(e){e.options.__source="src/views/function/entranceGuard/allEntranceGuardInfo/index.vue"},s=i,c=Object(d["a"])(u,a,n,!1,null,"5fd55446",null);"function"===typeof s&&s(c);r["default"]=c.exports},"36d9":function(e,r,t){"use strict";t.r(r),t.d(r,"getAllEntranceGuardInfo",(function(){return n})),t.d(r,"getAllEntranceGuardUserInfo",(function(){return l})),t.d(r,"addEntranceGuardUser",(function(){return o})),t.d(r,"deleteEntranceGuardUser",(function(){return u}));var a=t("9bd2");function n(){return Object(a["a"])({url:"/EntranceGuard/allEntranceGuardInfo",method:"post"})}function l(e){return Object(a["a"])({url:"/EntranceGuard/singleEntranceGuardInfo",method:"get",params:e})}function o(e){return Object(a["a"])({url:"/EntranceGuard/addEntranceGuardPeople",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/EntranceGuard/deleteEntranceGuardPeople",method:"get",params:e})}}}]);